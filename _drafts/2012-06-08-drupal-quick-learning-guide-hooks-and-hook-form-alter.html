---
layout: post
title: "Drupal Quick Learning Guide: hooks and hook_form_alter"
date: 2012-06-08T09:35:00-07:00
comments: false
---

<div class='post'>
I mentioned a little bit about hooks in my last post. Basically they are functions left behind by other developers, which let you insert your own code into theirs. For example, <code>hook_node_delete()</code>&nbsp;lets you run your own code when a node is deleted.<br /><br />To use a hook in your custom module, just declare a function named after the hook, where your module name replaces the word "hook". For example, to use hook_node_delete in my custom module called "swearing_custom", I would write:<br /><br /><code>function swearing_custom_node_delete($node) {<br />&nbsp; drupal_set_messsage(t('You just deleted a node!'));</code><br />}<br /><br />The next time you clear caches, Drupal will re-scan your module for calls to hook_node_delete, notice this function, and make sure it runs on every node deletion.<br /><br />Hooks are EVERYWHERE, and they represent 90% of your code's interaction with Drupal. <a href="http://api.drupal.org/">api.drupal.org</a> is your friend here; it explains all of the core hooks, how to use them, and what variables they take. That's how I knew that <a href="http://api.drupal.org/api/drupal/modules%21node%21node.api.php/function/hook_node_delete/7">hook_node_delete takes the $node variable</a>, for example. &nbsp;On that site you'll see what variables you need, what your hook should return, if anything, right down to the code that defines the hook itself. Just as useful (and sometimes more useful) are the comments and examples that people leave behind, or the links to examples where other core modules call this hook.<br /><br />Today I'm going to get you started on maybe the single most useful hook in the entire Drupal stack: hook_form_alter.<br /><br />Hook_form_alter lets you stick your nose into any form, anywhere on a Drupal site, and rewrite it. Drupal forms are exposed to this function (and a handful of other, related ones) through a simple API that makes it easy to create and manipulate forms. Basically each form is an object with nested arrays. At the top level are variables for the form as a whole, like the title or the value of the Submit button. Each field gets its own array, with settings inside that array, such as the field name, default value, and if the field is required. Everything is named semantically... and when you're finished with this big object, Drupal does the magic necessary to turn it into a form that displays in the browser.<br /><br /><br /></div>
